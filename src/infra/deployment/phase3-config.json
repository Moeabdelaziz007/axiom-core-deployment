{
  "name": "Phase 3: Intelligence & Ops",
  "version": "1.0.0",
  "description": "Deployment configuration for Phase 3 components including Market Analyst Agent, Operations Automation Agent, and Secure IDP Pipeline",
  "components": {
    "market-analyst": {
      "name": "Market Analyst Agent",
      "type": "cloudflare-worker",
      "description": "AI-powered MENA real estate market analysis agent",
      "environment": "development",
      "url": "https://market-analyst.axiom.example.com",
      "envVars": [
        "GEMINI_API_KEY",
        "ORACLE_VM_ENDPOINT",
        "AXIOM_SECRET_KEY",
        "REAL_ESTATE_API_KEY",
        "MARKET_DATA_API_KEY"
      ],
      "databases": [
        {
          "binding": "MARKET_DB",
          "name": "axiom-market-data"
        },
        {
          "binding": "ANALYTICS_DB",
          "name": "axiom-analytics"
        }
      ],
      "kvNamespaces": [
        {
          "binding": "MARKET_CACHE",
          "id": "market-cache-namespace"
        }
      ],
      "vectorize": [
        {
          "binding": "MARKET_VECTOR_INDEX",
          "index_name": "market-property-index"
        }
      ]
    },
    "operations-automation": {
      "name": "Operations Automation Agent",
      "type": "cloudflare-worker",
      "description": "AI-driven deployment, monitoring, and incident response automation",
      "environment": "development",
      "url": "https://operations-automation.axiom.example.com",
      "envVars": [
        "GEMINI_API_KEY",
        "ORACLE_VM_ENDPOINT",
        "AXIOM_SECRET_KEY",
        "DEPLOYMENT_WEBHOOK",
        "MONITORING_WEBHOOK",
        "INCIDENT_WEBHOOK"
      ],
      "databases": [
        {
          "binding": "OPERATIONS_DB",
          "name": "axiom-operations"
        },
        {
          "binding": "INCIDENT_DB",
          "name": "axiom-incidents"
        }
      ],
      "kvNamespaces": [
        {
          "binding": "OPERATIONS_CACHE",
          "id": "operations-cache-namespace"
        }
      ]
    },
    "secure-idp": {
      "name": "Secure IDP Pipeline",
      "type": "cloudflare-worker",
      "description": "Unified authentication and authorization with SSO, MFA, and OAuth2",
      "environment": "development",
      "url": "https://secure-idp.axiom.example.com",
      "envVars": [
        "GEMINI_API_KEY",
        "ORACLE_VM_ENDPOINT",
        "AXIOM_SECRET_KEY",
        "JWT_SECRET",
        "MFA_SECRET",
        "OAUTH_GOOGLE_CLIENT_ID",
        "OAUTH_GOOGLE_CLIENT_SECRET",
        "OAUTH_MICROSOFT_CLIENT_ID",
        "OAUTH_MICROSOFT_CLIENT_SECRET",
        "OAUTH_APPLE_CLIENT_ID",
        "OAUTH_APPLE_PRIVATE_KEY"
      ],
      "databases": [
        {
          "binding": "IDENTITY_DB",
          "name": "axiom-identity"
        },
        {
          "binding": "SESSION_DB",
          "name": "axiom-sessions"
        }
      ],
      "kvNamespaces": [
        {
          "binding": "SESSION_CACHE",
          "id": "session-cache-namespace"
        }
      ]
    },
    "api-gateway": {
      "name": "API Gateway",
      "type": "cloudflare-worker",
      "description": "Central API gateway for Phase 3 component integration",
      "environment": "development",
      "url": "https://api-gateway.axiom.example.com",
      "envVars": [
        "GEMINI_API_KEY",
        "ORACLE_VM_ENDPOINT",
        "AXIOM_SECRET_KEY"
      ],
      "databases": [
        {
          "binding": "GATEWAY_DB",
          "name": "axiom-gateway"
        }
      ],
      "kvNamespaces": [
        {
          "binding": "GATEWAY_CACHE",
          "id": "gateway-cache-namespace"
        }
      ]
    }
  },
  "integration": {
    "protocols": {
      "name": "Integration Protocols",
      "type": "typescript-library",
      "description": "Standardized communication protocols for Phase 3 components",
      "environment": "development"
    },
    "monitoring": {
      "name": "Monitoring Dashboards",
      "type": "nextjs-application",
      "description": "Real-time monitoring and alerting dashboards for Phase 3 components",
      "environment": "development",
      "url": "https://monitoring.axiom.example.com"
      "envVars": [
        "GEMINI_API_KEY",
        "AXIOM_SECRET_KEY"
      ]
    }
  },
  "infrastructure": {
    "name": "Infrastructure Setup",
    "description": "Infrastructure as Code configuration for Phase 3 deployment",
    "environment": "development",
    "providers": {
      "cloudflare": {
        "account_id": "cloudflare-account-id",
        "zone_id": "cloudflare-zone-id"
      },
      "database": {
        "provider": "postgresql",
        "connection_string": "postgresql://user:password@localhost:5432/axiom"
      }
    },
    "networking": {
      "cdn": "cloudflare",
      "dns": "cloudflare"
    },
    "monitoring": {
      "provider": "prometheus",
      "endpoint": "https://prometheus.axiom.example.com"
    },
    "secrets": {
      "provider": "cloudflare-secrets",
      "secrets": [
        "GEMINI_API_KEY",
        "ORACLE_VM_ENDPOINT",
        "AXIOM_SECRET_KEY",
        "JWT_SECRET",
        "MFA_SECRET",
        "OAUTH_GOOGLE_CLIENT_ID",
        "OAUTH_GOOGLE_CLIENT_SECRET",
        "OAUTH_MICROSOFT_CLIENT_ID",
        "OAUTH_MICROSOFT_CLIENT_SECRET",
        "OAUTH_APPLE_CLIENT_ID",
        "OAUTH_APPLE_PRIVATE_KEY"
      ]
    }
  },
  "deployment": {
    "strategy": "blue-green",
    "environments": {
      "development": {
        "auto_rollback": true,
        "health_checks": true,
        "approval_required": false
      },
      "staging": {
        "auto_rollback": true,
        "health_checks": true,
        "approval_required": true
      },
      "production": {
        "auto_rollback": true,
        "health_checks": true,
        "approval_required": true,
        "rollback_threshold": 5,
        "health_check_timeout": 30000
      }
    },
    "security": {
      "encryption_at_rest": "AES-256",
      "encryption_in_transit": "TLS-1.3",
      "mfa_required": true,
      "session_timeout": 3600,
      "max_failed_attempts": 5,
      "lockout_duration": 900,
      "jwt_secret_rotation_days": 30,
      "oauth2_scopes": ["openid", "email", "profile"]
    },
    "monitoring": {
      "metrics_interval": 60000,
      "alert_thresholds": {
        "cpu_warning": 70,
        "cpu_critical": 90,
        "memory_warning": 85,
        "memory_critical": 95,
        "error_rate_warning": 5,
        "error_rate_critical": 10,
        "response_time_warning": 2000,
        "response_time_critical": 5000
      },
      "health_check_interval": 30000,
      "uptime_target": 99.9,
      "log_retention_days": 30
    }
  },
  "testing": {
    "framework": "jest",
    "coverage_threshold": 80,
    "performance_tests": true,
    "security_tests": true,
    "integration_tests": true,
    "e2e_tests": true,
    "test_environments": ["development", "staging"]
  }
  }
}